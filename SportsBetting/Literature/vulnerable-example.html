<!DOCTYPE html>
<html>
<head>
    <title>VULNERABLE Admin Dashboard - DO NOT USE</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .transaction { border: 1px solid #ccc; padding: 10px; margin: 10px 0; }
        .alert { background: red; color: white; padding: 10px; }
    </style>
</head>
<body>
    <h1>⚠️ VULNERABLE Transaction History (DO NOT USE IN PRODUCTION)</h1>
    <div id="transactions"></div>

    <script>
        // VULNERABLE CODE - This is what an attacker could exploit
        async function loadTransactions() {
            const response = await fetch('http://localhost:5192/api/wallets/ca8eafd5-b5b7-4782-bba7-74a82927f9c1/transactions?pageSize=10');
            const transactions = await response.json();

            const container = document.getElementById('transactions');

            transactions.forEach(tx => {
                const div = document.createElement('div');
                div.className = 'transaction';

                // ❌ VULNERABLE - Directly inserting user-controlled data as HTML
                div.innerHTML = `
                    <strong>${tx.type}</strong> - $${tx.amount}<br>
                    Description: ${tx.description}<br>
                    <small>Date: ${tx.createdAt}</small>
                `;

                container.appendChild(div);
            });
        }

        loadTransactions();
    </script>
</body>
</html>
